<Page x:Class="MailTrayNotifier.Views.MailSettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml" mc:Ignorable="d" d:DesignHeight="450" d:DesignWidth="800" Title="MailSettingsPage">


    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="24,24,24,48" VerticalAlignment="Top">
            <ui:CardControl Icon="PlayCircle24">
                <ui:CardControl.Header>
                    <StackPanel >
                        <ui:TextBlock Text="알림" FontTypography="Body" />
                        <ui:TextBlock Text="메일을 확인해서 알림을 보내도록 설정합니다." FontTypography="Caption" Foreground="WhiteSmoke"/>
                    </StackPanel>
                </ui:CardControl.Header>
                <ui:ToggleSwitch Grid.Column="1" IsChecked="{Binding IsRefreshEnabled, Mode=TwoWay}" VerticalAlignment="Center" OnContent="On" OffContent="Off"/>
            </ui:CardControl>

            <Border
            Margin="0,12,0,0"
            Padding="12"
            Background="{ui:ThemeResource ControlFillColorDefaultBrush}"
            CornerRadius="8">
                <StackPanel>
                    <StackPanel>
                        <ui:TextBlock Text="POP3 서버" Margin="0,0,0,4" FontTypography="Body" Foreground="White"  />
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="100" />
                            </Grid.ColumnDefinitions>
                            <ui:TextBox Grid.Column="0" Margin="0,0,8,0" Text="{Binding Pop3Server, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Foreground="WhiteSmoke" />
                            <ui:TextBox Grid.Column="1" Text="{Binding Pop3PortText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Foreground="WhiteSmoke" PlaceholderText="Port" PreviewTextInput="NumericTextBox_PreviewTextInput" DataObject.Pasting="NumericTextBox_Pasting" />
                        </Grid>

                        <ui:TextBlock Text="SMTP 서버" Margin="0,0,0,4" FontTypography="Body" Foreground="White"/>
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="100" />
                            </Grid.ColumnDefinitions>
                            <ui:TextBox Grid.Column="0" Margin="0,0,8,0" Text="{Binding SmtpServer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Foreground="WhiteSmoke"/>
                            <ui:TextBox Grid.Column="1" Text="{Binding SmtpPortText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Foreground="WhiteSmoke" PlaceholderText="Port" PreviewTextInput="NumericTextBox_PreviewTextInput" DataObject.Pasting="NumericTextBox_Pasting" />
                        </Grid>

                        <CheckBox Margin="0,0,0,16" IsChecked="{Binding UseSsl, Mode=TwoWay}" Content="Use SSL/TLS (SSL: 995, non-SSL: 110)" />

                        <ui:TextBlock Text="아이디" Margin="0,0,0,4" FontTypography="Body" Foreground="White"/>
                        <ui:TextBox Margin="0,0,0,16" Text="{Binding UserId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Foreground="WhiteSmoke"/>

                        <ui:TextBlock Text="비밀번호" Margin="0,0,0,4" FontTypography="Body" Foreground="White"/>
                        <ui:PasswordBox Margin="0,0,0,16" Foreground="WhiteSmoke" Password="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                        <ui:TextBlock Text="동기화 시간(분)" Foreground="White" Margin="0,0,0,4" FontTypography="Body" />
                        <ui:TextBox Margin="0,0,0,24" Foreground="WhiteSmoke" Text="{Binding RefreshMinutesText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PreviewTextInput="NumericTextBox_PreviewTextInput" DataObject.Pasting="NumericTextBox_Pasting" />

                        <ui:TextBlock Text="이메일 사이트(선택)" Foreground="White" Margin="0,0,0,4" FontTypography="Body" />
                        <ui:TextBox Margin="0,0,0,24" Foreground="WhiteSmoke" Text="{Binding MailWebUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PlaceholderText="https://mail.example.com" />

                    </StackPanel>
                </StackPanel>
            </Border>

            <Grid Margin="0,24,0,0">                
                <ui:Button HorizontalAlignment="Left" Command="{Binding ResetCommand}" Content="초기화" Appearance="Secondary" Margin="0,0,0,0" />
                <ui:Button HorizontalAlignment="Right" Command="{Binding SaveCommand}" Content="저장" Appearance="Primary" Margin="0,0,0,0" />
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Page>

